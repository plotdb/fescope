!function(){var u,s,l,a,t,f;function p(t,n){var e,r={}.hasOwnProperty;for(e in n)r.call(n,e)&&(t[e]=n[e]);return t}l=function(t,n){return"undefined"==typeof fs||null===fs||/^https:/.exec(t)?fetch(t,n).then(function(i){var t;return i&&i.ok?i.text():i?i.clone().text().then(function(t){var n,e=i.status||404,r=new Error(e+" "+t);r.name="lderror",r.id=e,r.message=t,e=r;try{(n=JSON.parse(t))&&"lderror"===n.name&&(p(e,n).json=n)}catch(t){0}return Promise.reject(e)}):Promise.reject(((t=new Error("404")).name="lderror",t.id=404,t))}):new Promise(function(e,r){return fs.readFile(t,function(t,n){return t?r(t):e(n.toString())})})},(a=function(t){var n,e,r,i,o=this;return this.lc=(t=null==t?{}:t).context||{},this.id=Math.random().toString(36).substring(2),t.iframe?this.iframe=t.iframe:(this.iframe=n=s.createElement("iframe"),(e=n.style).position="absolute",e.top=0,e.left=0,e.width=0,e.height=0,e.pointerEvents="none",e.opacity=0,n.setAttribute("title","rescope script loader"),n.setAttribute("name","pdb-proxin-"+this.id),n.setAttribute("sandbox","allow-same-origin allow-scripts"),s.body.appendChild(n)),r=Object.fromEntries(Reflect.ownKeys(this.iframe.contentWindow).map(function(t){return[t,!0]})),i={},this._proxy=new Proxy(t.target||u,{get:function(t,n,e){return null!=o.lc[n]?o.lc[n]:null!=i[n]?i[n]:"function"==typeof t[n]?i[n]=t[n].bind(t):null!=r[n]?t[n]:void 0},set:function(t,n,e){return r[n]?t[n]=e:o.lc[n]=e,!0}}),this}).prototype=((t=Object.create(Object.prototype)).proxy=function(){return this._proxy},t.ctx=function(){return this.lc},t),(f=function(t){var n,e;return null==t&&(t={}),this.id=Math.random().toString(36).substring(2),this.iframe=n=s.createElement("iframe"),this._cache={},this.proxy=new a,this.registry(t.registry||"/assets/lib/"),(e=n.style).position="absolute",e.top=0,e.left=0,e.width=0,e.height=0,e.pointerEvents="none",e.opacity=0,n.setAttribute("title","rescope script loader"),n.setAttribute("name","pdb-rescope-"+this.id),n.setAttribute("sandbox","allow-same-origin allow-scripts"),s.body.appendChild(n),n.contentWindow.document.body.innerHTML=(t.preloads||[]).map(function(t){return'<script type="text/javascript" src="'+t+'"><\/script>'}).join(""),this}).env=function(t){t=[t,t.document];return u=t[0],s=t[1],t},f.prop={legacy:{webkitStorageInfo:!0}},f.id=function(t){var n=t.path||("js"===t.type?"index.min.js":"css"===t.type?"index.min.css":"index.html");return t.id||t.url||(t.ns?t.ns+":":"")+t.name+"@"+(t.version||"main")+":"+n},f._cache={},f._ver={map:{},list:{}},f.cache=function(t){var n,e,r,i,o,s,c,u,l,a,p;if((t="string"==typeof t?{url:t}:t).id||(t.id=f.id(t)),n=this._cache[t.id])return n;if(t.id&&!t.name?((o=t.id.split(":")).length<=2?(e=o[0],r=o[1],i=o[2]):(i=o[0],e=o[1],r=o[2]),s=(o=(o=/^(@?[^@]+)(?:@([^:]+))?$/.exec(e))||["",t.id,""])[1],c=o[2]):(i=(u=[t.ns,t.name,t.version||"",t.path||""])[0],s=u[1],c=u[2],r=u[3]),/^[0-9.]+$/.exec(c)){if((n=((u=this._ver.map)[s]||(u[s]={}))[c])&&(c=n),n=this._cache[f.id({ns:i,name:s,version:c,path:r})])return n;for(l=0,a=((u=this._ver.list)[s]||(u[s]=[])).length;l<a;++l)if(p=l,p=this._ver.list[s][p],semver.fit(p,c)&&(this._ver.map[s][c]=p,t.id=f.id({ns:i,name:s,version:p,path:r}),n=this._cache[t.id]))return n}return function(t,n){var e=-1,r=n.length>>>0;for(;++e<r;)if(t===n[e])return 1;return}(c,(u=this._ver.list)[s]||(u[s]=[]))||this._ver.list[s].push(c),this._cache[t.id]=t},f.prototype=((t=Object.create(Object.prototype)).peekScope=function(){return!1},t.init=function(){return Promise.resolve()},t._ref=function(t){var n,e;return"string"==typeof t&&(t={url:t}),"function"==typeof(n=this._reg.url||this._reg)&&((e=p({},t)).url=n(t),t=e),this._reg.fetch?this._reg.fetch(t):t.url},t.registry=function(t){return"string"==typeof t?("/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),this._reg=(n=t,function(t){return n+"/"+t.name+"/"+(t.version||"main")+"/"+(t.path||"index.min.js")})):this._reg=t;var n},t.cache=function(t){var n;return(t="string"==typeof t?{url:t}:t).id||(t.id=f.id(t)),(n=this._cache[t.id])||(this._cache[t.id]=f.cache(t))},t.exports=function(t){var n,e,r=[],i=(t=null==t?{}:t).ctx||{},t="string"==typeof t.libs?[t.libs]:t.libs||[],o=(n=[{},this.iframe.contentWindow])[0],s=n[1];for(e in i)o[e]=s[e],s[e]=i[e];for(e in this._exports(t,0,i),o)r.push(s[e]=o[e]);return r},t._exports=function(t,n,e){var r,i,o,s,c,u,l=[];if(null==e&&(e={}),r=t[n=null==n?0:n]){if(o=(i=[{},(r=this.cache(r)).fprop,this.iframe.contentWindow])[0],s=i[1],c=i[2],s)for(u in s)o[u]=c[u],c[u]=s[u];else if(r.fprop=s={},r.prop={},r.propIniting=!0,r.gen)p(s,r.gen.apply(c,[c,c,c])),r.prop=Object.fromEntries(function(){var t=[];for(u in s)t.push([u,null]);return t}());else{for(u in Object.fromEntries(Reflect.ownKeys(c).filter(function(t){return!f.prop.legacy[t]}).map(function(t){return[t,!0]})))o[u]=c[u];for(u in c.eval(r.code),Object.fromEntries(Reflect.ownKeys(c).filter(function(t){return!f.prop.legacy[t]}).map(function(t){return[t,!0]})))c[u]!==o[u]&&"NaN"!==u&&(s[u]=c[u],r.prop[u]=null)}for(u in s)e[u]=s[u];for(u in this._exports(t,n+1),s)l.push(c[u]=o[u]);return l}},t._wrap=function(t,n,e){var r,i,o;for(o in null==n&&(n={}),null==e&&(e={}),i="var window, global, globalThis, self, __ret = {}; __win = {};\nwindow = global = globalThis = self = window = scope;",r=(t=null==t?{}:t).prop||{})i+="var "+o+"; __win['"+o+"'] = win['"+o+"']; win['"+o+"'] = undefined;";for(o in n)i+="var "+o+" = window['"+o+"'] = ctx['"+o+"'];";for(o in i+=t.code+";",r)i+="__ret['"+o+"'] = "+o+" || window['"+o+"'] || win['"+o+"'] || this['"+o+"'];\nwin['"+o+"'] = __win['"+o+"'];";return i+="return __ret;",e.codeOnly?"function(scope, ctx, win){"+i+"}":new Function("scope","ctx","win",i)},t.load=function(t,n,e,r){var i,o,s,c=this;return null==n&&(n={}),null==e&&(e=!1),null==r&&(r=!1),s=(t=(Array.isArray(t)?t:[t]).map(function(t){return c.cache(t)})).px||(t.px=n&&n.p?n.p:new a),i=s.ctx(),o=s.proxy(),s=t.map(function(n){var t;return!n.code&&!n.gen||e?(t=c._ref(n)).then?t.then(function(t){return n.code=t.content,c.cache((n.id=void 0,n.version=t.version,n.code=t.content,n))}):l(t,{method:"GET"}).then(function(t){return n.code=t}):Promise.resolve()}),Promise.all(s).then(function(){if(!r)return c.exports({libs:t,ctx:n.f}),t.map(function(t){return t.propIniting&&(t.gen||(t.gen=c._wrap(t,i)),t.prop=t.gen.apply(o,[o,i,u]),t.propIniting=!1),p(i,t.prop)})}).then(function(){return i})},t.context=function(t,n,e){var r;return"function"!=typeof n&&(n=(r=[e,n])[0],e=r[1]),this.load(t,e).then(function(t){return n?n(t):t})},t),f.env("undefined"!=typeof self&&null!==self?self:globalThis),f.proxin=a,f.dualContext=function(){return{p:new a,f:{},ctx:function(){return this.p.ctx()}}},"undefined"!=typeof module&&null!==module?module.exports=f:"undefined"!=typeof window&&null!==window&&(window.rescope=f)}();
